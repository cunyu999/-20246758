import numpy as np
from numpy.linalg import LinAlgError

def get_matrix_input(n):
    matrix_str = input(f"请输入{n}x{n}的矩阵：").split()
    matrix = [list(map(float, row.split())) for row in matrix_str]
    return np.array(matrix)

def calculate_inverse(matrix):
    try:
        inverse = np.linalg.inv(matrix)
        return inverse
    except LinAlgError:
        print("矩阵不可逆")
        return None

def main():
    n = int(input("请输入矩阵的维度："))
    original_matrix = get_matrix_input(n)
    result = calculate_inverse(original_matrix)
    
    if result is not None:
        print("矩阵的逆矩阵为：\n", result)

if __name__ == "__main__":
    main()
